<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Realtime Calculator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='bulma.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='highlight.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel=icon href="../static/favicon.ico">
    <script src="https://npmcdn.com/vue/dist/vue.js"></script>
  </head>
  </head>
  <body>
    <nav class="navbar" role="navigation" aria-label="main navigation">
      <div class="container">
        <div class="navbar-brand">
          <a class="navbar-item" href="#">Realtime Calculator</a>
        </div>
        <div class="navbar-menu" id="navMenu">
          <div class="navbar-end">
            {% if g.user %}
              <a class="navbar-item href="#">
                  {{ g.user.username }}
              </a>
              <a class="navbar-item"  href="{{ url_for('log_out') }}">
                Log Out
              </a>
            {% else %}
              <a class="navbar-item" href="{{ url_for('log_in') }}">
                Log In
              </a>
              <a class="navbar-item" href="{{ url_for('sign_up') }}">
                Sign Up
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    </nav>
    {% if get_flashed_messages() %}
      <div class="container">
        {% for category, message in get_flashed_messages(with_categories=True) %}
          <div id="base">
		  <div :class="{ disabled: isActive }" id="message{{ loop.index }}">
		    {% if category %}
		      {% if category == 'error' %}
			<div class="notification is-danger">
		      {% elif category == 'warning' %}
			<div class="notification is-warning">
		      {% elif category == 'success' %}
			<div class="notification is-success">
		      {% else %}
			<div class="notification">
		      {% endif %}
		    {% else %}
		      <div class="notification">
		    {% endif %}
		        <button class="delete" data-target="message{{ loop.index }}" aria-label="delete" @click="closePopup"></button>
		      {{ message }}
		      </div>
		  </div>
          </div>
        {% endfor %}
      </div>
    {% endif %}
    <section class="section">
      <div class="container">
        {% block content %}
        {% endblock %}
      </div>
    </section>
  <script src="../static/flashed_messages.js"></script>
  </body>
</html>
